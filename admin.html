<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/styles.css">
  <script src="js/scripts.js"></script>
  <title>Administrador de Productos</title>
</head>
<body>
  <h1>Panel de Administración de Productos</h1>
  <form id="product-form">
    <div>
      <label for="product-name">Nombre del Producto:</label>
      <input type="text" id="product-name" required>
    </div>
    <div>
      <label for="product-price">Precio:</label>
      <input type="number" id="product-price" min="0.01" step="0.01" required>
    </div>
    <button type="submit">Agregar Producto</button>
  </form>

  <h2>Lista de Productos</h2>
  <ul id="product-list"></ul>

  <script>
    // Productos iniciales
    const initialProducts = [
      { name: "Laptop", price: 1200.00 },
      { name: "Teclado", price: 45.00 },
      { name: "Mouse", price: 25.00 },
      { name: "Monitor", price: 300.00 }
    ];

    // Guardar los productos iniciales en localStorage si no existen
    if (!localStorage.getItem('products')) {
      localStorage.setItem('products', JSON.stringify(initialProducts));
    }

    // Código de admin.js integrado
    document.addEventListener("DOMContentLoaded", () => {
      const productForm = document.getElementById("product-form");
      const productList = document.getElementById("product-list");

      displayProducts();

      productForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("product-name").value;
        const price = parseFloat(document.getElementById("product-price").value).toFixed(2);

        if (name && price) {
          addProduct(name, price);
          productForm.reset();
        }
      });

      function addProduct(name, price) {
        const products = JSON.parse(localStorage.getItem("products")) || [];
        products.push({ name, price });
        localStorage.setItem("products", JSON.stringify(products));
        displayProducts();
      }

      function displayProducts() {
        const products = JSON.parse(localStorage.getItem("products")) || [];
        productList.innerHTML = "";
        products.forEach((product, index) => {
          const li = document.createElement("li");
          li.innerHTML = `
            ${product.name} - $${product.price}
            <button onclick="deleteProduct(${index})">Eliminar</button>
          `;
          productList.appendChild(li);
        });
      }

      window.deleteProduct = function (index) {
        const products = JSON.parse(localStorage.getItem("products")) || [];
        products.splice(index, 1);
        localStorage.setItem("products", JSON.stringify(products));
        displayProducts();
      };
    });
  </script>
</body>
</html>

